<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>My Parcels</title>
    <link rel="icon" type="image/x-icon" href="media/favicon.ico">
    <link rel="stylesheet" href="my-parcels.css">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <div class="mobile-container">
        <header class="top-header">
            <a href="index.html" class="back-btn">
                <i data-lucide="chevron-left"></i>
            </a>
            <h1>My Parcels</h1>
            <div class="placeholder"></div>
        </header>

        <nav class="tabs-nav">
            <a href="#" class="tab active-tab">My Parcels</a>
            <a href="#" class="tab">Rehearsal</a>
            <a href="#" class="tab">Unpaid Parcels</a>
        </nav>

        <div class="search-bar-container">
            <i data-lucide="search" class="search-icon"></i>
            <input type="text" class="search-input"
                placeholder="Enter shipping method or consignee to search parcels...">
        </div>

        <main class="content-area">

            <!-- PARCEL EDITABLE -->
            <div class="parcel-card" id="editable-parcel">
                <div class="card-header">
                    <span class="parcel-id">ID: <span class="data-id">P250808696462</span></span>
                    <span class="status-badge">Confirmed</span>
                </div>

                <div class="order-details-section">
                    <div class="details-header" onclick="openDetailsOverlay()">
                        <span>Order Details</span>
                        <i data-lucide="chevron-right" class="chevron-icon"></i>
                    </div>

                    <!-- Datos básicos - siempre visibles -->
                    <div class="basic-details">
                        <div class="row">
                            <span class="label">Shipping Methods:</span>
                            <span class="value data-method">China Post SAL↑5:</span>
                        </div>
                        <div class="row">
                            <span class="label">Volume:</span>
                            <span class="value data-volume">48840cm3</span>
                        </div>
                        <div class="row">
                            <span class="label">Weight:</span>
                            <div class="value-group">
                                <span class="strikethrough data-old-weight">5734.00g</span>
                                <span class="data-weight">5960g</span>
                            </div>
                        </div>
                        <div class="row">
                            <span class="label">Submit date:</span>
                            <span class="value data-date">2025-08-07 13:47:49</span>
                        </div>
                        <div class="row">
                            <span class="label">Shipping Fee:</span>
                            <span class="value">¥ <span class="data-shipping-yen">508</span> (<span
                                    class="data-shipping-usd">$73.06</span>)</span>
                        </div>
                        <div class="row">
                            <span class="label">Total:</span>
                            <span class="value total-green">¥ <span class="data-total-yen">426.32</span> (<span
                                    class="data-total-usd">$61.31</span>)</span>
                        </div>
                    </div>

                    <!-- Datos extra - colapsables -->
                    <div class="extra-details">
                        <div class="divider"></div>

                        <div class="row">
                            <span class="label">Insurance fee:</span>
                            <span class="value">¥ <span class="data-insurance">0.00</span></span>
                        </div>
                        <div class="row">
                            <span class="label">Package Service:</span>
                            <span class="value">¥ <span class="data-package">0</span></span>
                        </div>
                        <div class="row">
                            <span class="label">Tracking Number:</span>
                            <span class="value data-tracking">P528783522CN</span>
                        </div>
                        <div class="row">
                            <span class="label">service:</span>
                            <span class="value">¥ <span class="data-service">18.32</span></span>
                        </div>
                        <div class="row">
                            <span class="label">VAT:</span>
                            <span class="value">¥ <span class="data-vat">0.00</span></span>
                        </div>
                        <div class="row">
                            <span class="label">Custom Fee:</span>
                            <span class="value">¥ <span class="data-custom-yen">8.00</span> (<span
                                    class="data-custom-usd">$1.15</span>)</span>
                        </div>
                    </div>
                </div>

                <div class="card-actions">
                    <button class="icon-btn"><i data-lucide="more-horizontal"></i></button>
                    <button class="action-btn">Contact support</button>
                    <button class="action-btn" id="edit-btn">Photos</button>
                    <button class="action-btn" id="track-btn">Track</button>
                </div>
            </div>

            <!-- PARCEL DE RELLENO -->
            <div class="parcel-card">
                <div class="card-header">
                    <span class="parcel-id">ID: <span>P250915443210</span></span>
                    <span class="status-badge">Confirmed</span>
                </div>

                <div class="order-details-section">
                    <div class="details-header" onclick="toggleDetails(this)">
                        <span>Order Details</span>
                        <i data-lucide="chevron-down" class="chevron-icon"></i>
                    </div>
                    <div class="details-body">
                        <div class="row">
                            <span class="label">Shipping Methods:</span>
                            <span class="value">UPS Express:</span>
                        </div>
                        <div class="row">
                            <span class="label">Volume:</span>
                            <span class="value">22500cm3</span>
                        </div>
                        <div class="row">
                            <span class="label">Weight:</span>
                            <div class="value-group">
                                <span class="strikethrough">3100.00g</span>
                                <span>3250g</span>
                            </div>
                        </div>
                        <div class="row">
                            <span class="label">Submit date:</span>
                            <span class="value">2025-09-15 10:20:15</span>
                        </div>
                        <div class="row">
                            <span class="label">Shipping Fee:</span>
                            <span class="value">¥ 840 ($120.50)</span>
                        </div>
                        <div class="row">
                            <span class="label">Total:</span>
                            <span class="value total-green">¥ 750.00 ($108.20)</span>
                        </div>

                        <div class="divider"></div>

                        <div class="row">
                            <span class="label">Insurance fee:</span>
                            <span class="value">¥ 15.00</span>
                        </div>
                        <div class="row">
                            <span class="label">Tracking Number:</span>
                            <span class="value">1Z999AA101234567</span>
                        </div>
                    </div>
                </div>

                <div class="card-actions">
                    <button class="icon-btn"><i data-lucide="more-horizontal"></i></button>
                    <button class="action-btn">Contact support</button>
                    <button class="action-btn">Photos</button>
                    <button class="action-btn">Track</button>
                </div>
            </div>

            <div class="parcel-card">
                <div class="card-header">
                    <span class="parcel-id">ID: <span>P251020778554</span></span>
                    <span class="status-badge">Confirmed</span>
                </div>

                <div class="order-details-section">
                    <div class="details-header" onclick="toggleDetails(this)">
                        <span>Order Details</span>
                        <i data-lucide="chevron-down" class="chevron-icon"></i>
                    </div>
                    <div class="details-body">
                        <div class="row">
                            <span class="label">Shipping Methods:</span>
                            <span class="value">DHL Economy:</span>
                        </div>
                        <div class="row">
                            <span class="label">Volume:</span>
                            <span class="value">12800cm3</span>
                        </div>
                        <div class="row">
                            <span class="label">Weight:</span>
                            <div class="value-group">
                                <span class="strikethrough">1500.00g</span>
                                <span>1480g</span>
                            </div>
                        </div>
                        <div class="row">
                            <span class="label">Submit date:</span>
                            <span class="value">2025-10-20 08:45:30</span>
                        </div>
                        <div class="row">
                            <span class="label">Shipping Fee:</span>
                            <span class="value">¥ 320 ($46.10)</span>
                        </div>
                        <div class="row">
                            <span class="label">Total:</span>
                            <span class="value total-green">¥ 295.40 ($42.50)</span>
                        </div>
                    </div>
                </div>

                <div class="card-actions">
                    <button class="icon-btn"><i data-lucide="more-horizontal"></i></button>
                    <button class="action-btn">Contact support</button>
                    <button class="action-btn">Photos</button>
                    <button class="action-btn">Track</button>
                </div>
            </div>

            <div class="parcel-card">
                <div class="card-header">
                    <span class="parcel-id">ID: <span>P251105990112</span></span>
                    <span class="status-badge">Confirmed</span>
                </div>

                <div class="order-details-section">
                    <div class="details-header" onclick="toggleDetails(this)">
                        <span>Order Details</span>
                        <i data-lucide="chevron-down" class="chevron-icon"></i>
                    </div>
                    <div class="details-body">
                        <div class="row">
                            <span class="label">Shipping Methods:</span>
                            <span class="value">China Post SAL↑5:</span>
                        </div>
                        <div class="row">
                            <span class="label">Volume:</span>
                            <span class="value">54000cm3</span>
                        </div>
                        <div class="row">
                            <span class="label">Weight:</span>
                            <div class="value-group">
                                <span class="strikethrough">6200.00g</span>
                                <span>6100g</span>
                            </div>
                        </div>
                        <div class="row">
                            <span class="label">Submit date:</span>
                            <span class="value">2025-11-05 14:12:00</span>
                        </div>
                        <div class="row">
                            <span class="label">Shipping Fee:</span>
                            <span class="value">¥ 560 ($80.45)</span>
                        </div>
                        <div class="row">
                            <span class="label">Total:</span>
                            <span class="value total-green">¥ 510.20 ($73.15)</span>
                        </div>
                    </div>
                </div>

                <div class="card-actions">
                    <button class="icon-btn"><i data-lucide="more-horizontal"></i></button>
                    <button class="action-btn">Contact support</button>
                    <button class="action-btn">Photos</button>
                    <button class="action-btn">Track</button>
                </div>
            </div>

        </main>

        <!-- MODAL EDITOR -->
        <div id="editor-modal" class="modal-overlay hidden">
            <div class="modal-content">
                <h3>Edit Parcel Data</h3>

                <div class="form-group">
                    <label>Parcel ID:</label>
                    <input type="text" id="edit-id">
                </div>
                <div class="form-group">
                    <label>Volume:</label>
                    <input type="text" id="edit-volume">
                </div>
                <div class="form-group">
                    <label>Old Weight:</label>
                    <input type="text" id="edit-old-weight">
                </div>
                <div class="form-group">
                    <label>New Weight:</label>
                    <input type="text" id="edit-weight">
                </div>
                <div class="form-group">
                    <label>Submit Date:</label>
                    <input type="text" id="edit-date">
                </div>
                <div class="form-group">
                    <label>Shipping Fee (¥):</label>
                    <input type="text" id="edit-shipping-yen">
                </div>
                <div class="form-group">
                    <label>Shipping Fee ($):</label>
                    <input type="text" id="edit-shipping-usd">
                </div>
                <div class="form-group">
                    <label>Total (¥):</label>
                    <input type="text" id="edit-total-yen">
                </div>
                <div class="form-group">
                    <label>Total ($):</label>
                    <input type="text" id="edit-total-usd">
                </div>
                <div class="form-group">
                    <label>Tracking Number:</label>
                    <input type="text" id="edit-tracking">
                </div>

                <h4 style="color: #7cb83c; margin: 15px 0 10px; font-size: 0.95rem;">Address</h4>

                <div class="form-group">
                    <label>Destination Country:</label>
                    <input type="text" id="edit-country">
                </div>
                <div class="form-group">
                    <label>City:</label>
                    <input type="text" id="edit-city">
                </div>
                <div class="form-group">
                    <label>Address:</label>
                    <input type="text" id="edit-address">
                </div>
                <div class="form-group">
                    <label>Recipient's full name:</label>
                    <input type="text" id="edit-recipient">
                </div>
                <div class="form-group">
                    <label>Zip:</label>
                    <input type="text" id="edit-zip">
                </div>

                <div class="modal-actions">
                    <button id="cancel-btn" class="action-btn">Cancel</button>
                    <button id="save-btn" class="action-btn save-btn">Save</button>
                </div>
            </div>
        </div>

        <!-- DETAILS OVERLAY -->
        <div id="details-overlay" class="details-overlay hidden">
            <div class="details-overlay-content">
                <button class="close-overlay-btn" onclick="closeDetailsOverlay()">×</button>

                <!-- Pricing Summary -->
                <section class="detail-section">
                    <h3 class="section-title">Pricing Summary</h3>
                    <div class="detail-row">
                        <span class="detail-label">Weight</span>
                        <span class="detail-value" id="ov-weight">5734.00g</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">VAT</span>
                        <span class="detail-value">¥ 0.00</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Freight</span>
                        <span class="detail-value" id="ov-freight">¥ 508</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">service</span>
                        <span class="detail-value">¥ 18.32</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Insured amount</span>
                        <span class="detail-value">¥ 0.00</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Rehearsal</span>
                        <span class="detail-value">¥ 0</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Package</span>
                        <span class="detail-value">¥ 0</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Remove plastic bags</span>
                        <span class="detail-value">NO</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Drop boxes</span>
                        <span class="detail-value">NO</span>
                    </div>
                </section>

                <!-- Address -->
                <section class="detail-section">
                    <h3 class="section-title">Address</h3>
                    <div class="detail-row">
                        <span class="detail-label">Destination Country:</span>
                        <span class="detail-value" id="ov-country">Argentina</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">City:</span>
                        <span class="detail-value" id="ov-city">Rosario</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Address:</span>
                        <span class="detail-value" id="ov-address"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Recipient's full name:</span>
                        <span class="detail-value" id="ov-recipient"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Zip:</span>
                        <span class="detail-value" id="ov-zip">2000</span>
                    </div>
                </section>

                <!-- Package Contents -->
                <section class="detail-section">
                    <h3 class="section-title">Package Contents</h3>
                    <div id="products-container">
                        <!-- Products will be rendered here -->
                    </div>
                </section>

                <!-- Grand Total -->
                <section class="detail-section grand-total-section">
                    <div class="detail-row grand-total-row">
                        <span class="detail-label" style="font-weight: 600; font-size: 1rem;">Total:</span>
                        <span class="detail-value" id="ov-grand-total"
                            style="color: #7cb83c; font-weight: 600; font-size: 1.1rem;">¥ 0.00</span>
                    </div>
                </section>
            </div>
        </div>

        <!-- PRODUCTS EDITOR MODAL -->
        <div id="products-editor-modal" class="modal-overlay hidden">
            <div class="modal-content products-modal">
                <h3>Edit Products</h3>
                <div id="products-form-container">
                    <!-- Product forms will be rendered here -->
                </div>
                <div class="modal-actions">
                    <button class="action-btn" onclick="addNewProduct()">+ Add Product</button>
                </div>
                <div class="modal-actions">
                    <button id="cancel-products-btn" class="action-btn">Cancel</button>
                    <button id="save-products-btn" class="action-btn save-btn">Save Products</button>
                </div>
            </div>
        </div>

    </div>

    <script src="my-parcels.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>